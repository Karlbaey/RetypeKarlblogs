---
import { ViewTransitions } from "astro:transitions";
import { defaultLocale, moreLocales } from "@/config"

export async function getStaticPaths() {
  type PathItem = {
    params: { about: string }
    props: { lang: string }
  }

  const paths: PathItem[] = []

  // Default locale
  paths.push({
    params: { about: 'return-to-dusk/' },
    props: { lang: defaultLocale },
  })

  // More locales
  moreLocales.forEach((lang: string) => {
    paths.push({
      params: { about: `${lang}/return-to-dusk/` },
      props: { lang },
    })
  })

  return paths
}
---

<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>昨日黄昏　中心页 | Karlblogs</title>
  <!-- 引入思源宋体 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --sun-color: #ff6b35;
      --sun-glow: #ff4500;
      --sky-color: #fff8e1;
      --wave-color: #ff9a3c;
      --text-color: #333;
      --transition-time: 0.8s;
      --font-primary: 'Noto Serif SC', serif;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: var(--font-primary);
      background: linear-gradient(to bottom, #fffdf5, #ffefd5);
      color: var(--text-color);
      overflow-x: hidden;
      min-height: 100vh;
      transition: background 1s ease;
      line-height: 1.8;
      font-weight: 400;
    }
    
    .intro-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background-color: var(--sky-color);
      z-index: 100;
      overflow: hidden;
      transition: opacity var(--transition-time) ease, filter var(--transition-time) ease;
    }
    
    .sun {
      width: 200px;
      height: 100px;
      background: radial-gradient(circle at center, var(--sun-color), var(--sun-glow));
      border-radius: 200px 200px 0 0;
      position: relative;
      bottom: 50px;
      z-index: 2;
      box-shadow: 0 0 80px rgba(255, 107, 53, 0.8);
      transform: translateY(0);
    }

    .waves {
      position: absolute;
      bottom: calc(50% - 100px);
      width: 100%;
      height: 120px;
      overflow: hidden;
      z-index: 1;
    }
    
    .wave {
      position: absolute;
      bottom: 0;
      width: 200%;
      height: 100px;
      background-repeat: repeat-x;
      opacity: 0.8;
    }
    
    .wave-1 {
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' opacity='.25' fill='%23ff9a3c'/%3E%3Cpath d='M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z' opacity='.5' fill='%23ff9a3c'/%3E%3Cpath d='M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z' fill='%23ff9a3c'/%3E%3C/svg%3E");
      animation: wave-animation 12s linear infinite;
    }
    
    .wave-2 {
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' opacity='.25' fill='%23ff7f00'/%3E%3Cpath d='M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z' opacity='.5' fill='%23ff7f00'/%3E%3Cpath d='M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z' fill='%23ff7f00'/%3E%3C/svg%3E");
      animation: wave-animation 10s linear infinite reverse;
      opacity: 0.6;
      bottom: -10px;
    }
    
    @keyframes wave-animation {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-50%);
      }
    }
    
    .fixed-sun {
      position: fixed;
      top: -50px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 100px;
      background: radial-gradient(circle at center, var(--sun-color), var(--sun-glow));
      border-radius: 200px 200px 0 0;
      z-index: 5;
      box-shadow: 0 0 80px rgba(255, 107, 53, 0.7);
      opacity: 0;
      transition: opacity var(--transition-time) ease;
    }
    
    .fixed-sun.visible {
      opacity: 1;
    }
    
    .fixed-waves {
      position: fixed;
      top: 50px;
      left: 0;
      width: 100%;
      height: 100px;
      z-index: 5;
      opacity: 0;
      transition: opacity var(--transition-time) ease;
      overflow: hidden;
    }
    
    .fixed-waves.visible {
      opacity: 1;
    }
    
    /* 正文内容 */
    .content {
      padding: 150px 20px 80px;
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      z-index: 10;
      opacity: 0;
      transition: opacity var(--transition-time) ease;
    }
    
    .content.visible {
      opacity: 1;
    }
    
    h1, h2, h3 {
      font-weight: 700;
      letter-spacing: -0.5px;
    }
    
    h1 {
      font-size: 3.2rem;
      margin-bottom: 1.5rem;
      color: #ff6b35;
      text-align: center;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      padding-top: 60px;
      font-family: var(--font-primary);
      line-height: 1.3;
    }
    
    .post-meta {
      text-align: center;
      color: #777;
      margin-bottom: 2.5rem;
      font-size: 1.1rem;
      font-weight: 400;
      font-family: var(--font-primary);
    }
    
    .post-content {
      font-size: 1.15rem;
      font-weight: 400;
      font-family: var(--font-primary);
    }
    
    .post-content p {
      margin-bottom: 1.8rem;
      text-align: justify;
      font-size: 1.1rem;
      letter-spacing: 0.3px;
    }
    
    .post-content img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 2rem auto;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    
    .quote {
      font-style: italic;
      border-left: 4px solid var(--sun-color);
      padding: 1.5rem 2rem;
      margin: 2.5rem 0;
      background: rgba(255, 107, 53, 0.05);
      border-radius: 0 8px 8px 0;
      font-family: var(--font-primary);
      font-weight: 400;
      color: #5a4a42;
      font-size: 1.25rem;
      line-height: 1.7;
    }
    
    .quote::before {
      content: "“";
      font-size: 4rem;
      position: absolute;
      left: 10px;
      top: -15px;
      color: rgba(255, 107, 53, 0.2);
    }
    
    .highlight {
      background: linear-gradient(120deg, rgba(255,235,205,0.5), rgba(255,235,205,0.5));
      background-repeat: no-repeat;
      background-size: 100% 40%;
      background-position: 0 88%;
      font-weight: 600;
      padding: 0 4px;
    }
    
    .hero-text {
      position: absolute;
      top: 20%;
      left: 0;
      width: 100%;
      text-align: center;
      color: white;
      font-size: 2.8rem;
      font-weight: 700;
      opacity: 1;
      z-index: 3;
      font-family: var(--font-primary);
      color: #ffb347;
      letter-spacing: 2px;
    }
    
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
      40% {transform: translateY(-10px);}
      60% {transform: translateY(-5px);}
    }
    
    .section {
      padding: 60px 0;
      border-bottom: 1px dashed rgba(255, 107, 53, 0.2);
    }
    
    .section-title {
      color: #ff6b35;
      margin-bottom: 25px;
      font-size: 1.9rem;
      position: relative;
      padding-left: 20px;
      font-weight: 600;
      font-family: var(--font-primary);
    }
    
    .section-title::before {
      content: "";
      position: absolute;
      left: 0;
      top: 12px;
      height: 26px;
      width: 6px;
      background: #ff6b35;
      border-radius: 3px;
    }
    
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 25px;
      margin: 35px 0;
    }
    
    .gallery-item {
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }
    
    .gallery-item:hover {
      transform: translateY(-7px);
    }
    
    .gallery-item img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
    }
    
    .gallery-caption {
      padding: 15px;
      background: white;
      font-size: 1rem;
      text-align: center;
      font-family: var(--font-primary);
    }
    
    footer {
      text-align: center;
      padding: 40px 20px;
      color: #777;
      font-size: 0.95rem;
      margin-top: 60px;
      border-top: 1px solid rgba(255, 107, 53, 0.1);
      font-family: var(--font-primary);
    }
    
    @media (max-width: 768px) {
      h1 {
        font-size: 2.5rem;
        padding-top: 40px;
      }
      
      .hero-text {
        font-size: 2.2rem;
      }
      
      .section-title {
        font-size: 1.7rem;
      }
      
      .quote {
        font-size: 1.1rem;
        padding: 1.2rem;
      }
      
      .gallery {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- 开场动画 -->
  <div class="intro-container" id="intro">
    <div class="sun"></div>
    <div class="hero-text">昨   日   黄   昏</div>
    <div class="waves">
      <div class="wave wave-1"></div>
      <div class="wave wave-2"></div>
    </div>
  </div>
  
  <!-- 固定在顶部的太阳 -->
  <div class="fixed-sun" id="fixedSun"></div>
  
  <!-- 固定在顶部的波浪 -->
  <div class="fixed-waves" id="fixedWaves">
    <div class="wave wave-1"></div>
    <div class="wave wave-2"></div>
  </div>
  
  <!-- 正文内容 -->
  <main class="content" id="content">
    <h1>昨日黄昏　中心页</h1>
    
    <div class="post-meta">
      <span>作者：J. N. Karlbaey | 测试时间：2025年8月18日</span>
    </div>
    
    <div class="post-content">
      <center><span class="highlight"><i>你要知道，日光之下，并无新事。</i></span></center>
      
      <p class="quote">本页面目前还在测试阶段，尚未完工，敬请谅解。</p>
      
      <p>使用 HTML 中的 &lt;p&gt; 标签创建一个段落，使用 &lt;span class="highlight"&gt;&lt;/span&gt; 来创建高亮块，高亮块展示效果像这样：<span class="highlight">地球在远日点上</span>。</p>
      
      <div class="section">
        <h2 class="section-title">创建一个分节</h2>
        <p>可以使用 &lt;div class="section"&gt;&lt;h2 class="section-title"&gt;&lt;/h2&gt;&lt;/div&gt; 创建一个分节，在 &lt;h2&gt; 标签中填写这一分节的标题。</p>
      </div>
      
      <div class="section">
        <h2 class="section-title">调色板</h2>
        <p>下面是三块<span class="highlight">调色板</span>，感谢 VSCode 市场中这么优秀的调色板插件。</p>
        
        <div class="gallery">
          <div class="gallery-item">
            <div style="background: linear-gradient(135deg, #ff9d6c, #ff6b35); height: 180px;"></div>
            <div class="gallery-caption">色块1</div>
          </div>
          <div class="gallery-item">
            <div style="background: linear-gradient(135deg, #ff7f50, #e25822); height: 180px;"></div>
            <div class="gallery-caption">色块2</div>
          </div>
          <div class="gallery-item">
            <div style="background: linear-gradient(135deg, #ffb347, #ffcc33); height: 180px;"></div>
            <div class="gallery-caption">色块3</div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <div style="width: 800px; margin: auto;">
    <script src="https://giscus.app/client.js"
        data-repo="Karlbaey/Karlblogs-Comments"
        data-repo-id="R_kgDON2YNqA"
        data-category="Announcements"
        data-category-id="DIC_kwDON2YNqM4Cm0iB"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="gruvbox_light"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
    </script>
  </div>
  
  <footer>
    <p>© 2025 Karlblogs | <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" rel="noopener noreferrer" target="_blank">CC BY-NC-SA 3.0</a> </p>
    <p>使用思源宋体呈现排版</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 安全地获取元素引用
      const intro = document.getElementById('intro');
      const content = document.getElementById('content');
      const fixedSun = document.getElementById('fixedSun');
      const fixedWaves = document.getElementById('fixedWaves');
      
      // 确保所有元素都存在
      if (intro && content && fixedSun && fixedWaves) {
        // 1.5秒后开始过渡效果
        setTimeout(() => {
          // 添加模糊和淡出效果
          intro.style.filter = 'blur(10px)';
          intro.style.opacity = '0';
          
          // 显示正文内容
          setTimeout(() => {
            content.classList.add('visible');
            fixedSun.classList.add('visible');
            fixedWaves.classList.add('visible');
            
            // 移除开场动画
            setTimeout(() => {
              intro.style.display = 'none';
            }, 500);
          }, 300);
        }, 1500);
      } else {
        // 如果元素缺失，直接显示内容
        if (content) content.classList.add('visible');
        if (fixedSun) fixedSun.classList.add('visible');
        if (fixedWaves) fixedWaves.classList.add('visible');
        if (intro) intro.style.display = 'none';
        console.error('部分动画元素缺失，直接显示内容');
      }
      
      // 滚动效果：太阳和海浪随滚动向上移动
      window.addEventListener('scroll', () => {
        const scrollY = window.scrollY;
        const maxScroll = 300; // 最大滚动距离
        
        if (fixedSun && fixedWaves) {
          // 计算偏移量（向上移动）
          const sunOffset = Math.min(scrollY * 0.7, maxScroll);
          const wavesOffset = Math.min(scrollY * 0.9, maxScroll);
          
          fixedSun.style.transform = `translateX(-50%) translateY(${-sunOffset}px)`;
          fixedWaves.style.transform = `translateY(${-wavesOffset}px)`;
          
          // 淡出效果
          const opacity = 1 - Math.min(scrollY / 200, 1);
        }
      });
    });
  </script>
</body>
</html>