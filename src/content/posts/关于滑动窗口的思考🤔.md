---
title: å…³äºæ»‘åŠ¨çª—å£çš„æ€è€ƒğŸ¤”
published: 2025-08-12T17:19:55.211Z
description: ''
updated: ''
tags:
  - ç®—æ³•
  - LeetCode
draft: true
pin: 0
toc: true
lang: ''
abbrlink: 'sliding-window-i'
---

æ»‘åŠ¨çª—å£æ˜¯ä¸€ç§è§£å†³è¿ç»­å­åŒºé—´é—®é¢˜çš„ç®—æ³•ã€‚å®ƒèƒ½å¤Ÿè§£å†³è¿™æ ·çš„ä¸€ç±»é—®é¢˜ï¼šåœ¨ä¸€ä¸ªæ•°ç»„æˆ–å­—ç¬¦ä¸²ä¸­ï¼Œæ‰¾åˆ°ä¸€ä¸ªå­ä¸²æˆ–å­æ•°ç»„èƒ½å¤Ÿæ»¡è¶³æ¡ä»¶ã€‚è¿™ç§æ¡ä»¶é€šå¸¸ä¸æœ€å¤§å€¼ã€æœ€å°å€¼ã€å”¯ä¸€å€¼æˆ–æ˜¯è¶Šé•¿ / çŸ­è¶Šå¥½ç›¸å…³ã€‚ä¹Ÿæœ‰ä¸€äº›ç®—æ³•é¢˜ç›®å¸Œæœ›å®ç°å­åŒºé—´èƒ½å¤Ÿè¦†ç›–ç‰¹å®šéƒ¨åˆ†å†…å®¹ï¼Œä¾‹å¦‚åœ¨ [LeetCode 76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/description/) ä¸€é¢˜ä¸­ï¼Œè¦æ±‚å¯»æ‰¾èƒ½è¦†ç›–æ‰€ç»™å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­åŒºé—´ï¼Œä¸”è¶ŠçŸ­è¶Šå¥½ã€‚è¿™äº›é¢˜ç›®éƒ½æœ‰å…±åŒçš„ç‰¹å¾ï¼š**ç»´æŠ¤ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºï¼ˆè‹±æ–‡ï¼šFIFOï¼Œfirst in first outï¼‰çš„é˜Ÿåˆ—ï¼Œä¸”æ•°æ®ç»“æ„æ˜¯çº¿æ€§çš„**ã€‚

## å®šé•¿æ»‘åŠ¨çª—å£

ä¸€ä¸ªå®šé•¿æ»‘åŠ¨çª—å£ï¼Œå¯é€šè¿‡è¿™æ ·ä¸€ä¸ªæ¨¡æ¿æ¥å†™ä»£ç 

```go
func slidingWindowI(arr []int, k int) {
    left := 0
    ans := -2147483647 // æ­¤å¤„æ˜¯å¯»æ‰¾æœ€å¤§å€¼ï¼Œå¦‚æœæ˜¯å¯»æ‰¾æœ€å°å€¼æˆ–ç‰¹å®šå­—ç¬¦ï¼Œåœ¨æ¡ä»¶éƒ¨åˆ†ä»¥åŠ ans åšä¿®æ”¹å³å¯
    now := 0
    
    for right := 0; right < len(arr); right++ {
        now += arr[right]
        
        if right-left+1 < k {
            continue // åºåˆ—é•¿åº¦ä¸è¶³ï¼Œç›´æ¥é‡å¼€
        }
        
        if now > ans {
            ans = now
        }
        
        now -= arr[left]
        left++
    }
    return ans // è®°å¾—è¿”å›ç­”æ¡ˆ
}
```

æˆ‘ä»¬åœ¨æ­¤å¤„å‡è®¾è¾“å…¥çš„åºåˆ—ä¸ºæ•´æ•°åˆ—è¡¨ï¼Œå¦‚æœè¾“å…¥æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°† `[]int` ä¿®æ”¹ä¸º `string` å³å¯ï¼Œå®ƒä»¬çš„æœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚ä¾‹å¦‚ [LeetCode 643. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I](https://leetcode.cn/problems/maximum-average-subarray-i/description/) çš„ Golang è§£æ³•å¯ä»¥è¿™æ ·å†™ï¼š

```go
func findMaxAverage(nums []int, k int) float64 {
	left := 0
	ans := -2147483647
	now := 0

	for right := 0; right < len(nums); right++ {
		now += nums[right]

		if right-left+1 < k {
			continue
		}

		if now > ans {
			ans = now
		}

		now -= nums[left]
		left++
	}

	return float64(ans) / float64(k)
}
```

æ­¤å¤„éœ€è¦è§£é‡Šå‡ ä¸ªå…³é”®å˜é‡ï¼š

- `ans` è®¾ç½®ä¸º `-2147483647` æ˜¯ä¸ºäº†é¿å…å¾—åˆ°çš„å­åºåˆ—å’Œå¤ªå°ä»¥è‡³äºæ— æ³•è¾“å‡ºæ­£ç¡®çš„æœ€å¤§å€¼ã€‚
- `now` ç”¨äºå­˜å‚¨å½“å‰çª—å£å†…çš„å€¼

è¿™æ ·æˆ‘ä»¬å®¹æ˜“çœ‹å‡ºå®šé•¿æ»‘åŠ¨çª—å£çš„æ ¸å¿ƒæ€æƒ³ï¼š`è¿› -> åˆ¤ -> å‡º`ï¼Œå…¶ä¸­å…³é”®åœ¨äºâ€œåˆ¤â€çš„éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œåœ¨ [LeetCode 2090. åŠå¾„ä¸º k çš„å­æ•°ç»„å¹³å‡å€¼](https://leetcode.cn/problems/k-radius-subarray-averages/description/) ä¸­å°†è¾“å‡ºæ¢æˆäº†ä¸€ä¸ªæ•°ç»„ï¼Œä½†ä¾ç„¶æ˜¯æ¢æ±¤ä¸æ¢è¯ï¼Œæˆ‘ä»¬çŸ¥é“åªè¦è¿™ä¸ªçª—å£çš„é•¿åº¦å¤§äºç­‰äº `2*k + 1`ï¼ˆä½“ç°åœ¨ç´¢å¼•ä¸Šå°±æ˜¯ `right - left = 2*k`ï¼‰ï¼Œå°±èƒ½å¤Ÿç¡®è®¤ `avgs` ä¸­ `right-k` å¤„çš„å€¼ã€‚`right-k` å°±æ˜¯åŠå¾„ä¸º k çš„å­æ•°ç»„çš„ä¸­å¿ƒã€‚

```go
func getAverages(nums []int, k int) []int {
	avgs := make([]int, len(nums))
	sum := 0
	left := 0

	for right := 0; right < len(nums); right++ {
		sum += nums[right]
		avgs[right] = -1

		if right >= 2*k {
			avgs[right-k] = sum / (2*k + 1)
		} else {
			continue
		}

		sum -= nums[left]
		left++
	}
	return avgs
}
```
